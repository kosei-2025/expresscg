<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"><title>ExpressCG – iframe 送信</title>
<script>
document.addEventListener('DOMContentLoaded',()=>{
  const form   = document.getElementById('cgForm');
  const thanks = document.getElementById('thanks');

  form.addEventListener('submit', e=>{
    // ここで任意のバリデーション
    // NG なら e.preventDefault() して return;

    // iframe へネイティブ submit → autoresponse が動く
    form.target = 'hidden_iframe';
    // form.submit(); ← addEventListener 内なので明示不要
    // フォームが閉じたら画面だけ書き換え
    thanks.style.display = 'block';
  });
});
</script>
</head>
<body>
<!-- 隠し iframe -->
<iframe name="hidden_iframe" style="display:none"></iframe>

<form id="cgForm"
      action="https://formsubmit.co/expresscg@archi-prisma.co.jp"
      method="POST"
      enctype="multipart/form-data">
  <input type="text"  name="name"  placeholder="お名前"  required>
  <input type="email" name="email" placeholder="メール" required>
  <input type="file"  name="図面PDF" accept=".pdf,.jpg,.jpeg,.png">
  <input type="hidden" name="_autoresponse"
         value="この度は ExpressCG にご依頼いただきありがとうございます。">
  <button type="submit">送信する</button>
</form>

<!-- 送信完了後に差し替える要素 -->
<div id="thanks" style="display:none">
  <h1>送信が完了しました</h1>
  <p>担当者より 24 時間以内にご連絡いたします。</p>
</div>
</body>
</html>
